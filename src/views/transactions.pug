extends ./shared/layout

append styles 
  link(href='/css/transactions.css', rel='stylesheet')

block content
  .table-container
    .balance-container.container-fluid
      .row
        span#current-balance Current Balance: #{balance}
        
    hr
    h3 Transactions
    table.table.table-hover
      thead
        tr
          th Category
          th Date
          th Description
          th Amount
          th Balance
          th
      tbody
        each transaction in transactions
          tr
            td= transaction.categoryDisplayName
            td= transaction.displayDate
            td= transaction.description
            td= transaction.displayAmount
            td= transaction.displayBalance
            td 
              a(href='/transactions/' + transaction.id) view
  
    nav.aria-label
      ul.pager
        li#previous.previous
          a(href="/transactions")
            span(aria-hidden="true") &larr; Newer
        li#next.next
          a(href="/transactions?" + older_query)  
            .span(aria-hidden="true") Older &rarr;
      
append scripts 
  script.
    var isBefore = $.urlParam('before'); 
    if (!isBefore) {
      $('#previous').addClass('disabled');
    }